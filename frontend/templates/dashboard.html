<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlgoTrendy Trading Platform</title>
    <link rel="stylesheet" href="/static/css/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-chart-line"></i>
                    <h1>AlgoTrendy</h1>
                </div>
                <div class="status-indicator">
                    <div id="connection-status" class="status-badge">
                        <i class="fas fa-circle"></i>
                        <span>Connecting...</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Sidebar Navigation -->
            <nav class="sidebar">
                <div class="nav-section">
                    <h3><i class="fas fa-tachometer-alt"></i> Dashboard</h3>
                    <ul>
                        <li><a href="#overview" class="nav-link active">Overview</a></li>
                        <li><a href="#portfolio" class="nav-link">Portfolio</a></li>
                        <li><a href="#signals" class="nav-link">Trading Signals</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3><i class="fas fa-robot"></i> AI Systems</h3>
                    <ul>
                        <li><a href="#ml-models" class="nav-link">ML Models</a></li>
                        <li><a href="#strategies" class="nav-link">Strategies</a></li>
                        <li><a href="#backtesting" class="nav-link">Backtesting</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3><i class="fas fa-cogs"></i> Trading</h3>
                    <ul>
                        <li><a href="#stocks" class="nav-link">Stocks</a></li>
                        <li><a href="#futures" class="nav-link">Futures</a></li>
                        <li><a href="#crypto" class="nav-link">Crypto</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Content Area -->
            <div class="content-area">
                <div id="overview" class="content-section active">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-area"></i> Platform Overview</h2>
                    </div>
                    
                    <div class="stats-grid">
                        <div id="backend-control-btn" class="stat-card clickable-card">
                            <div class="stat-icon">
                                <i class="fas fa-server"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Backend Status</h3>
                                <p id="backend-status">Checking...</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="stat-content">
                                <h3>AI Systems</h3>
                                <p>3 Models Active</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Trading Systems</h3>
                                <p>12 Available</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Risk Management</h3>
                                <p>Active</p>
                            </div>
                        </div>
                    </div>

                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3><i class="fas fa-rocket"></i> Quick Actions</h3>
                            </div>
                            <div class="action-buttons">
                                <button class="action-btn primary">
                                    <i class="fas fa-play"></i>
                                    Start Trading Interface
                                </button>
                                <button class="action-btn secondary">
                                    <i class="fas fa-chart-bar"></i>
                                    View Backtests
                                </button>
                                <button class="action-btn secondary">
                                    <i class="fas fa-cog"></i>
                                    System Settings
                                </button>
                            </div>
                        </div>

                        <div class="feature-card">
                            <div class="feature-header">
                                <h3><i class="fas fa-info-circle"></i> System Information</h3>
                            </div>
                            <div class="system-info">
                                <div class="info-item">
                                    <strong>Platform:</strong> AlgoTrendy v2.0
                                </div>
                                <div class="info-item">
                                    <strong>Environment:</strong> Replit Cloud
                                </div>
                                <div class="info-item">
                                    <strong>Mode:</strong> Development
                                </div>
                                <div class="info-item">
                                    <strong>Backend API:</strong> <span id="api-endpoint">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ML Models Section -->
                <div id="ml-models" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-brain"></i> ML Models</h2>
                    </div>
                    
                    <div class="loading" id="models-loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading ML models...
                    </div>
                    
                    <div id="models-content" class="models-grid" style="display: none;">
                        <!-- Models will be loaded here -->
                    </div>
                </div>

                <!-- Strategies Section -->
                <div id="strategies" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-chess-knight"></i> Trading Strategies</h2>
                    </div>
                    
                    <div class="loading" id="strategies-loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading strategies...
                    </div>
                    
                    <div id="strategies-content" class="strategies-grid" style="display: none;">
                        <!-- Strategies will be loaded here -->
                    </div>
                </div>

                <!-- Backtesting Section -->
                <div id="backtesting" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-bar"></i> Backtesting Results</h2>
                    </div>
                    
                    <div class="loading" id="backtests-loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading backtests...
                    </div>
                    
                    <div id="backtests-content" style="display: none;">
                        <div class="backtest-controls">
                            <button class="action-btn primary" id="new-backtest-btn">
                                <i class="fas fa-play"></i> Run New Backtest
                            </button>
                        </div>
                        <div class="backtests-grid">
                            <!-- Backtests will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Portfolio Section -->
                <div id="portfolio" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-wallet"></i> Portfolio Management</h2>
                        <div class="section-actions">
                            <button class="action-btn secondary" id="refresh-portfolio-btn">
                                <i class="fas fa-sync"></i> Refresh Data
                            </button>
                        </div>
                    </div>

                    <!-- Portfolio Overview Cards -->
                    <div id="portfolio-loading" class="loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading portfolio data...
                    </div>

                    <div id="portfolio-content" style="display: none;">
                        <!-- Portfolio Metrics Grid -->
                        <div class="portfolio-metrics-grid">
                            <div class="portfolio-card account-summary">
                                <div class="card-header">
                                    <h3><i class="fas fa-chart-line"></i> Account Summary</h3>
                                    <span id="portfolio-last-updated" class="last-updated">-</span>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item large">
                                        <span class="metric-label">Total Portfolio Value</span>
                                        <span id="total-portfolio-value" class="metric-value large">$0.00</span>
                                    </div>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Cash Balance</span>
                                        <span id="cash-balance" class="metric-value">$0.00</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Invested Amount</span>
                                        <span id="invested-amount" class="metric-value">$0.00</span>
                                    </div>
                                </div>
                            </div>

                            <div class="portfolio-card pnl-summary">
                                <div class="card-header">
                                    <h3><i class="fas fa-trending-up"></i> P&L Summary</h3>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Unrealized P&L</span>
                                        <span id="unrealized-pnl" class="metric-value pnl">$0.00</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Realized P&L</span>
                                        <span id="realized-pnl" class="metric-value pnl">$0.00</span>
                                    </div>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Day Change</span>
                                        <span id="day-change" class="metric-value pnl">$0.00</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Day Change %</span>
                                        <span id="day-change-percent" class="metric-value pnl">0.00%</span>
                                    </div>
                                </div>
                            </div>

                            <div class="portfolio-card risk-metrics">
                                <div class="card-header">
                                    <h3><i class="fas fa-shield-alt"></i> Risk Metrics</h3>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Beta</span>
                                        <span id="portfolio-beta" class="metric-value">-</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Sharpe Ratio</span>
                                        <span id="sharpe-ratio" class="metric-value">-</span>
                                    </div>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Max Drawdown</span>
                                        <span id="max-drawdown" class="metric-value">-</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Volatility</span>
                                        <span id="volatility" class="metric-value">-</span>
                                    </div>
                                </div>
                            </div>

                            <div class="portfolio-card performance-overview">
                                <div class="card-header">
                                    <h3><i class="fas fa-chart-area"></i> Performance</h3>
                                </div>
                                <div class="performance-periods">
                                    <div class="period-item">
                                        <span class="period-label">1D</span>
                                        <span id="perf-1d" class="period-value pnl">-</span>
                                    </div>
                                    <div class="period-item">
                                        <span class="period-label">1W</span>
                                        <span id="perf-1w" class="period-value pnl">-</span>
                                    </div>
                                    <div class="period-item">
                                        <span class="period-label">1M</span>
                                        <span id="perf-1m" class="period-value pnl">-</span>
                                    </div>
                                    <div class="period-item">
                                        <span class="period-label">YTD</span>
                                        <span id="perf-ytd" class="period-value pnl">-</span>
                                    </div>
                                    <div class="period-item">
                                        <span class="period-label">1Y</span>
                                        <span id="perf-1y" class="period-value pnl">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Positions Management Section -->
                        <div class="portfolio-section">
                            <div class="section-header">
                                <h3><i class="fas fa-list"></i> Current Positions</h3>
                                <div class="table-controls">
                                    <input type="text" id="positions-search" placeholder="Search positions..." class="search-input">
                                    <select id="positions-filter" class="filter-select">
                                        <option value="">All Assets</option>
                                        <option value="equity">Stocks</option>
                                        <option value="futures">Futures</option>
                                        <option value="crypto">Crypto</option>
                                    </select>
                                </div>
                            </div>

                            <div id="positions-loading" class="loading">
                                <i class="fas fa-spinner fa-spin"></i> Loading positions...
                            </div>

                            <div id="positions-content" style="display: none;">
                                <div class="positions-summary">
                                    <span id="positions-count">0 positions</span>
                                    <span id="positions-total-value">Total: $0.00</span>
                                </div>

                                <div class="table-container">
                                    <table id="positions-table" class="positions-table">
                                        <thead>
                                            <tr>
                                                <th class="sortable" data-sort="symbol">
                                                    Symbol <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable" data-sort="name">
                                                    Name <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable" data-sort="asset_type">
                                                    Type <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="quantity">
                                                    Quantity <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="current_price">
                                                    Price <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="market_value">
                                                    Market Value <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="unrealized_pnl">
                                                    Unrealized P&L <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="day_change">
                                                    Day Change <i class="fas fa-sort"></i>
                                                </th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="positions-table-body">
                                            <!-- Positions will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Analytics Section -->
                        <div class="portfolio-section">
                            <div class="section-header">
                                <h3><i class="fas fa-chart-bar"></i> Performance Analytics</h3>
                                <div class="chart-controls">
                                    <button class="chart-period-btn active" data-period="30">30D</button>
                                    <button class="chart-period-btn" data-period="90">90D</button>
                                    <button class="chart-period-btn" data-period="365">1Y</button>
                                </div>
                            </div>

                            <div id="performance-loading" class="loading">
                                <i class="fas fa-spinner fa-spin"></i> Loading performance data...
                            </div>

                            <div id="performance-content" style="display: none;">
                                <div class="performance-metrics-grid">
                                    <div class="perf-metric-card">
                                        <div class="metric-label">Total Return</div>
                                        <div id="total-return" class="metric-value large pnl">-</div>
                                    </div>
                                    <div class="perf-metric-card">
                                        <div class="metric-label">Best Day</div>
                                        <div id="best-day" class="metric-value positive">-</div>
                                    </div>
                                    <div class="perf-metric-card">
                                        <div class="metric-label">Worst Day</div>
                                        <div id="worst-day" class="metric-value negative">-</div>
                                    </div>
                                    <div class="perf-metric-card">
                                        <div class="metric-label">Avg Daily Return</div>
                                        <div id="avg-daily-return" class="metric-value">-</div>
                                    </div>
                                </div>

                                <!-- Simple Performance Chart -->
                                <div class="chart-container">
                                    <canvas id="performance-chart" width="800" height="300"></canvas>
                                </div>

                                <!-- Performance Data Table -->
                                <div class="performance-table-container">
                                    <h4>Recent Performance History</h4>
                                    <div class="table-container small">
                                        <table id="performance-table" class="performance-table">
                                            <thead>
                                                <tr>
                                                    <th>Date</th>
                                                    <th>Portfolio Value</th>
                                                    <th>Daily Return</th>
                                                    <th>Cumulative Return</th>
                                                </tr>
                                            </thead>
                                            <tbody id="performance-table-body">
                                                <!-- Performance data will be populated here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="signals" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-signal"></i> Trading Signals</h2>
                    </div>
                    <p>Real-time trading signals will be displayed here...</p>
                </div>
            </div>
        </main>
    </div>

    <script src="/static/js/dashboard.js"></script>
</body>
</html>