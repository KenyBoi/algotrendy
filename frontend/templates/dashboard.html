<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlgoTrendy Trading Platform</title>
    <link rel="stylesheet" href="/static/css/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-chart-line"></i>
                    <h1>AlgoTrendy</h1>
                </div>
                <div class="status-indicator">
                    <div id="connection-status" class="status-badge">
                        <i class="fas fa-circle"></i>
                        <span>Connecting...</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Sidebar Navigation -->
            <nav class="sidebar">
                <div class="nav-section">
                    <h3><i class="fas fa-tachometer-alt"></i> Dashboard</h3>
                    <ul>
                        <li><a href="#overview" class="nav-link active">Overview</a></li>
                        <li><a href="#portfolio" class="nav-link" data-module="portfolio">Portfolio</a></li>
                        <li><a href="#signals" class="nav-link" data-module="signals">Trading Signals</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3><i class="fas fa-robot"></i> AI Systems</h3>
                    <ul>
                        <li><a href="#ml-models" class="nav-link" data-module="ml_models">ML Models</a></li>
                        <li><a href="#strategies" class="nav-link" data-module="strategies">Strategies</a></li>
                        <li><a href="#backtesting" class="nav-link" data-module="backtesting">Backtesting</a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3><i class="fas fa-cogs"></i> Trading</h3>
                    <ul>
                        <li><a href="#stocks" class="nav-link" data-module="stocks">Stocks</a></li>
                        <li><a href="#futures" class="nav-link" data-module="futures">Futures</a></li>
                        <li><a href="#crypto" class="nav-link" data-module="crypto">Crypto</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3><i class="fas fa-sliders-h"></i> Configuration</h3>
                    <ul>
                        <li><a href="#settings" class="nav-link">Settings</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Content Area -->
            <div class="content-area">
                <div id="overview" class="content-section active">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-area"></i> Platform Overview</h2>
                    </div>
                    
                    <!-- Large Statistical Displays -->
                    <div class="large-stats-grid">
                        <div class="large-stat-card">
                            <div class="large-stat-number" id="total-pnl">$47,328</div>
                            <div class="large-stat-label">Total P&L</div>
                            <div class="large-stat-sublabel">Last 30 Days</div>
                        </div>
                        <div class="large-stat-card">
                            <div class="large-stat-number success-color" id="win-rate">73%</div>
                            <div class="large-stat-label">Win Rate</div>
                            <div class="large-stat-sublabel">Active Strategies</div>
                        </div>
                        <div class="large-stat-card">
                            <div class="large-stat-number" id="active-positions">12</div>
                            <div class="large-stat-label">Active Positions</div>
                            <div class="large-stat-sublabel">Across All Assets</div>
                        </div>
                        <div class="large-stat-card">
                            <div class="large-stat-number warning-color" id="risk-score">2.4</div>
                            <div class="large-stat-label">Risk Score</div>
                            <div class="large-stat-sublabel">Current Portfolio</div>
                        </div>
                    </div>

                    <!-- Overview Charts -->
                    <div class="chart-grid">
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Portfolio Performance (30 Days)</div>
                                <div class="chart-controls">
                                    <button class="chart-control-btn active" data-period="7d">7D</button>
                                    <button class="chart-control-btn" data-period="30d">30D</button>
                                    <button class="chart-control-btn" data-period="90d">90D</button>
                                </div>
                            </div>
                            <div class="chart-body">
                                <canvas id="overview-performance-chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Asset Allocation</div>
                            </div>
                            <div class="chart-body">
                                <canvas id="overview-allocation-chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- System Status Grid -->
                    <div class="stats-grid">
                        <div id="backend-control-btn" class="stat-card clickable-card">
                            <div class="stat-icon">
                                <i class="fas fa-server"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Backend Status</h3>
                                <p id="backend-status">Checking...</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="stat-content">
                                <h3>AI Systems</h3>
                                <p id="ai-systems-count">3 Models Active</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Trading Systems</h3>
                                <p id="trading-systems-count">12 Available</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Risk Management</h3>
                                <p id="risk-status">Active</p>
                            </div>
                        </div>
                    </div>

                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3><i class="fas fa-rocket"></i> Quick Actions</h3>
                            </div>
                            <div class="action-buttons">
                                <button class="action-btn primary">
                                    <i class="fas fa-play"></i>
                                    Start Trading Interface
                                </button>
                                <button class="action-btn secondary">
                                    <i class="fas fa-chart-bar"></i>
                                    View Backtests
                                </button>
                                <button class="action-btn secondary">
                                    <i class="fas fa-cog"></i>
                                    System Settings
                                </button>
                            </div>
                        </div>

                        <div class="feature-card">
                            <div class="feature-header">
                                <h3><i class="fas fa-info-circle"></i> System Information</h3>
                            </div>
                            <div class="system-info">
                                <div class="info-item">
                                    <strong>Platform:</strong> AlgoTrendy v2.0
                                </div>
                                <div class="info-item">
                                    <strong>Environment:</strong> Replit Cloud
                                </div>
                                <div class="info-item">
                                    <strong>Mode:</strong> Development
                                </div>
                                <div class="info-item">
                                    <strong>Backend API:</strong> <span id="api-endpoint">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ML Models Section -->
                <div id="ml-models" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-brain"></i> ML Models</h2>
                    </div>
                    
                    <!-- ML Performance Charts -->
                    <div class="chart-grid">
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Model Performance Metrics</div>
                                <div class="chart-controls">
                                    <button class="chart-control-btn active" data-metric="accuracy">Accuracy</button>
                                    <button class="chart-control-btn" data-metric="precision">Precision</button>
                                    <button class="chart-control-btn" data-metric="recall">Recall</button>
                                </div>
                            </div>
                            <div class="chart-body">
                                <canvas id="ml-performance-chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Training Progress</div>
                            </div>
                            <div class="chart-body">
                                <canvas id="ml-training-chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Feature Importance Chart -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <div class="chart-title">Feature Importance Analysis</div>
                        </div>
                        <div class="chart-body">
                            <canvas id="ml-feature-importance-chart" class="chart-canvas"></canvas>
                        </div>
                    </div>
                    
                    <div class="loading" id="models-loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading ML models...
                    </div>
                    
                    <div id="models-content" class="models-grid" style="display: none;">
                        <!-- Models will be loaded here -->
                    </div>
                </div>

                <!-- Strategies Section -->
                <div id="strategies" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-chess-knight"></i> Trading Strategies</h2>
                    </div>
                    
                    <!-- Strategy Performance Charts -->
                    <div class="chart-grid">
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Strategy Performance Comparison</div>
                                <div class="chart-controls">
                                    <button class="chart-control-btn active" data-period="1m">1M</button>
                                    <button class="chart-control-btn" data-period="3m">3M</button>
                                    <button class="chart-control-btn" data-period="6m">6M</button>
                                    <button class="chart-control-btn" data-period="1y">1Y</button>
                                </div>
                            </div>
                            <div class="chart-body">
                                <canvas id="strategy-performance-chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Win/Loss Ratio</div>
                            </div>
                            <div class="chart-body">
                                <canvas id="strategy-winloss-chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Risk-Return Analysis -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <div class="chart-title">Risk-Return Scatter Plot</div>
                        </div>
                        <div class="chart-body">
                            <canvas id="strategy-risk-return-chart" class="chart-canvas"></canvas>
                        </div>
                    </div>
                    
                    <div class="loading" id="strategies-loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading strategies...
                    </div>
                    
                    <div id="strategies-content" class="strategies-grid" style="display: none;">
                        <!-- Strategies will be loaded here -->
                    </div>
                </div>

                <!-- Backtesting Section -->
                <div id="backtesting" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-bar"></i> Backtesting Results</h2>
                    </div>
                    
                    <!-- Backtest Performance Charts -->
                    <div class="chart-grid">
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Cumulative Returns</div>
                                <div class="chart-controls">
                                    <button class="chart-control-btn active" data-strategy="all">All</button>
                                    <button class="chart-control-btn" data-strategy="momentum">Momentum</button>
                                    <button class="chart-control-btn" data-strategy="mean-reversion">Mean Rev</button>
                                </div>
                            </div>
                            <div class="chart-body">
                                <canvas id="backtest-returns-chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="chart-header">
                                <div class="chart-title">Drawdown Analysis</div>
                            </div>
                            <div class="chart-body">
                                <canvas id="backtest-drawdown-chart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Statistical Analysis Chart -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <div class="chart-title">Monthly Returns Distribution</div>
                        </div>
                        <div class="chart-body">
                            <canvas id="backtest-distribution-chart" class="chart-canvas"></canvas>
                        </div>
                    </div>
                    
                    <div class="loading" id="backtests-loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading backtests...
                    </div>
                    
                    <div id="backtests-content" style="display: none;">
                        <div class="backtest-controls">
                            <button class="action-btn primary" id="new-backtest-btn">
                                <i class="fas fa-play"></i> Run New Backtest
                            </button>
                        </div>
                        <div class="backtests-grid">
                            <!-- Backtests will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Portfolio Section -->
                <div id="portfolio" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-wallet"></i> Portfolio Management</h2>
                        <div class="section-actions">
                            <button class="action-btn secondary" id="refresh-portfolio-btn">
                                <i class="fas fa-sync"></i> Refresh Data
                            </button>
                        </div>
                    </div>

                    <!-- Portfolio Overview Cards -->
                    <div id="portfolio-loading" class="loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading portfolio data...
                    </div>

                    <div id="portfolio-content" style="display: none;">
                        <!-- Portfolio Performance Charts -->
                        <div class="chart-grid">
                            <div class="chart-container">
                                <div class="chart-header">
                                    <div class="chart-title">Portfolio Performance</div>
                                    <div class="chart-controls">
                                        <button class="chart-control-btn active" data-period="1d">1D</button>
                                        <button class="chart-control-btn" data-period="7d">7D</button>
                                        <button class="chart-control-btn" data-period="30d">30D</button>
                                        <button class="chart-control-btn" data-period="90d">90D</button>
                                        <button class="chart-control-btn" data-period="1y">1Y</button>
                                    </div>
                                </div>
                                <div class="chart-body">
                                    <canvas id="portfolio-performance-chart" class="chart-canvas"></canvas>
                                </div>
                            </div>
                            <div class="chart-container">
                                <div class="chart-header">
                                    <div class="chart-title">Asset Allocation</div>
                                </div>
                                <div class="chart-body">
                                    <canvas id="portfolio-allocation-chart" class="chart-canvas"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- P&L and Risk Charts -->
                        <div class="chart-grid">
                            <div class="chart-container">
                                <div class="chart-header">
                                    <div class="chart-title">P&L Over Time</div>
                                </div>
                                <div class="chart-body">
                                    <canvas id="portfolio-pnl-chart" class="chart-canvas"></canvas>
                                </div>
                            </div>
                            <div class="chart-container">
                                <div class="chart-header">
                                    <div class="chart-title">Risk Metrics</div>
                                </div>
                                <div class="chart-body">
                                    <canvas id="portfolio-risk-chart" class="chart-canvas"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Portfolio Metrics Grid -->
                        <div class="portfolio-metrics-grid">
                            <div class="portfolio-card account-summary">
                                <div class="card-header">
                                    <h3><i class="fas fa-chart-line"></i> Account Summary</h3>
                                    <span id="portfolio-last-updated" class="last-updated">-</span>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item large">
                                        <span class="metric-label">Total Portfolio Value</span>
                                        <span id="total-portfolio-value" class="metric-value large">$0.00</span>
                                    </div>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Cash Balance</span>
                                        <span id="cash-balance" class="metric-value">$0.00</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Invested Amount</span>
                                        <span id="invested-amount" class="metric-value">$0.00</span>
                                    </div>
                                </div>
                            </div>

                            <div class="portfolio-card pnl-summary">
                                <div class="card-header">
                                    <h3><i class="fas fa-trending-up"></i> P&L Summary</h3>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Unrealized P&L</span>
                                        <span id="unrealized-pnl" class="metric-value pnl">$0.00</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Realized P&L</span>
                                        <span id="realized-pnl" class="metric-value pnl">$0.00</span>
                                    </div>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Day Change</span>
                                        <span id="day-change" class="metric-value pnl">$0.00</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Day Change %</span>
                                        <span id="day-change-percent" class="metric-value pnl">0.00%</span>
                                    </div>
                                </div>
                            </div>

                            <div class="portfolio-card risk-metrics">
                                <div class="card-header">
                                    <h3><i class="fas fa-shield-alt"></i> Risk Metrics</h3>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Beta</span>
                                        <span id="portfolio-beta" class="metric-value">-</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Sharpe Ratio</span>
                                        <span id="sharpe-ratio" class="metric-value">-</span>
                                    </div>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Max Drawdown</span>
                                        <span id="max-drawdown" class="metric-value">-</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Volatility</span>
                                        <span id="volatility" class="metric-value">-</span>
                                    </div>
                                </div>
                            </div>

                            <div class="portfolio-card performance-overview">
                                <div class="card-header">
                                    <h3><i class="fas fa-chart-area"></i> Performance</h3>
                                </div>
                                <div class="performance-periods">
                                    <div class="period-item">
                                        <span class="period-label">1D</span>
                                        <span id="perf-1d" class="period-value pnl">-</span>
                                    </div>
                                    <div class="period-item">
                                        <span class="period-label">1W</span>
                                        <span id="perf-1w" class="period-value pnl">-</span>
                                    </div>
                                    <div class="period-item">
                                        <span class="period-label">1M</span>
                                        <span id="perf-1m" class="period-value pnl">-</span>
                                    </div>
                                    <div class="period-item">
                                        <span class="period-label">YTD</span>
                                        <span id="perf-ytd" class="period-value pnl">-</span>
                                    </div>
                                    <div class="period-item">
                                        <span class="period-label">1Y</span>
                                        <span id="perf-1y" class="period-value pnl">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Positions Management Section -->
                        <div class="portfolio-section">
                            <div class="section-header">
                                <h3><i class="fas fa-list"></i> Current Positions</h3>
                                <div class="table-controls">
                                    <input type="text" id="positions-search" placeholder="Search positions..." class="search-input">
                                    <select id="positions-filter" class="filter-select">
                                        <option value="">All Assets</option>
                                        <option value="equity">Stocks</option>
                                        <option value="futures">Futures</option>
                                        <option value="crypto">Crypto</option>
                                    </select>
                                </div>
                            </div>

                            <div id="positions-loading" class="loading">
                                <i class="fas fa-spinner fa-spin"></i> Loading positions...
                            </div>

                            <div id="positions-content" style="display: none;">
                                <div class="positions-summary">
                                    <span id="positions-count">0 positions</span>
                                    <span id="positions-total-value">Total: $0.00</span>
                                </div>

                                <div class="table-container">
                                    <table id="positions-table" class="positions-table">
                                        <thead>
                                            <tr>
                                                <th class="sortable" data-sort="symbol">
                                                    Symbol <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable" data-sort="name">
                                                    Name <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable" data-sort="asset_type">
                                                    Type <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="quantity">
                                                    Quantity <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="current_price">
                                                    Price <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="market_value">
                                                    Market Value <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="unrealized_pnl">
                                                    Unrealized P&L <i class="fas fa-sort"></i>
                                                </th>
                                                <th class="sortable numeric" data-sort="day_change">
                                                    Day Change <i class="fas fa-sort"></i>
                                                </th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="positions-table-body">
                                            <!-- Positions will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Analytics Section -->
                        <div class="portfolio-section">
                            <div class="section-header">
                                <h3><i class="fas fa-chart-bar"></i> Performance Analytics</h3>
                                <div class="chart-controls">
                                    <button class="chart-period-btn active" data-period="30">30D</button>
                                    <button class="chart-period-btn" data-period="90">90D</button>
                                    <button class="chart-period-btn" data-period="365">1Y</button>
                                </div>
                            </div>

                            <div id="performance-loading" class="loading">
                                <i class="fas fa-spinner fa-spin"></i> Loading performance data...
                            </div>

                            <div id="performance-content" style="display: none;">
                                <div class="performance-metrics-grid">
                                    <div class="perf-metric-card">
                                        <div class="metric-label">Total Return</div>
                                        <div id="total-return" class="metric-value large pnl">-</div>
                                    </div>
                                    <div class="perf-metric-card">
                                        <div class="metric-label">Best Day</div>
                                        <div id="best-day" class="metric-value positive">-</div>
                                    </div>
                                    <div class="perf-metric-card">
                                        <div class="metric-label">Worst Day</div>
                                        <div id="worst-day" class="metric-value negative">-</div>
                                    </div>
                                    <div class="perf-metric-card">
                                        <div class="metric-label">Avg Daily Return</div>
                                        <div id="avg-daily-return" class="metric-value">-</div>
                                    </div>
                                </div>

                                <!-- Simple Performance Chart -->
                                <div class="chart-container">
                                    <canvas id="performance-chart" width="800" height="300"></canvas>
                                </div>

                                <!-- Performance Data Table -->
                                <div class="performance-table-container">
                                    <h4>Recent Performance History</h4>
                                    <div class="table-container small">
                                        <table id="performance-table" class="performance-table">
                                            <thead>
                                                <tr>
                                                    <th>Date</th>
                                                    <th>Portfolio Value</th>
                                                    <th>Daily Return</th>
                                                    <th>Cumulative Return</th>
                                                </tr>
                                            </thead>
                                            <tbody id="performance-table-body">
                                                <!-- Performance data will be populated here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stocks Trading Section -->
                <div id="stocks" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-line"></i> Stock Trading</h2>
                        <div class="section-actions">
                            <button class="action-btn secondary" id="refresh-stocks-btn">
                                <i class="fas fa-sync"></i> Refresh Data
                            </button>
                        </div>
                    </div>

                    <div class="trading-layout">
                        <!-- Trading Form Panel -->
                        <div class="trading-panel">
                            <div class="trading-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-exchange-alt"></i> Place Order</h3>
                                    <div class="buying-power">
                                        <span>Buying Power: <span id="stocks-buying-power">$0.00</span></span>
                                    </div>
                                </div>
                                
                                <!-- Buy/Sell Toggle -->
                                <div class="order-side-toggle">
                                    <button class="side-btn buy active" data-side="buy">
                                        <i class="fas fa-arrow-up"></i> Buy
                                    </button>
                                    <button class="side-btn sell" data-side="sell">
                                        <i class="fas fa-arrow-down"></i> Sell
                                    </button>
                                </div>

                                <form id="stocks-order-form" class="trading-form">
                                    <!-- Symbol Input with Autocomplete -->
                                    <div class="form-group">
                                        <label for="stocks-symbol">Symbol</label>
                                        <div class="symbol-input-container">
                                            <input type="text" id="stocks-symbol" placeholder="e.g., AAPL, SPY" autocomplete="off" required>
                                            <div id="stocks-symbol-dropdown" class="symbol-dropdown"></div>
                                        </div>
                                        <div class="symbol-info" id="stocks-symbol-info" style="display: none;">
                                            <div class="price-info">
                                                <span class="current-price">$0.00</span>
                                                <span class="price-change">+$0.00 (+0.00%)</span>
                                            </div>
                                            <div class="bid-ask">
                                                <span>Bid: <span class="bid-price">$0.00</span></span>
                                                <span>Ask: <span class="ask-price">$0.00</span></span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Order Type -->
                                    <div class="form-group">
                                        <label for="stocks-order-type">Order Type</label>
                                        <select id="stocks-order-type" required>
                                            <option value="market">Market Order</option>
                                            <option value="limit">Limit Order</option>
                                            <option value="stop">Stop Order</option>
                                        </select>
                                    </div>

                                    <!-- Quantity -->
                                    <div class="form-group">
                                        <label for="stocks-quantity">Quantity</label>
                                        <input type="number" id="stocks-quantity" min="1" step="1" placeholder="100" required>
                                        <div class="quantity-buttons">
                                            <button type="button" class="qty-btn" data-qty="10">10</button>
                                            <button type="button" class="qty-btn" data-qty="50">50</button>
                                            <button type="button" class="qty-btn" data-qty="100">100</button>
                                        </div>
                                    </div>

                                    <!-- Price (for limit orders) -->
                                    <div class="form-group" id="stocks-price-group" style="display: none;">
                                        <label for="stocks-price">Limit Price</label>
                                        <input type="number" id="stocks-price" step="0.01" placeholder="0.00">
                                    </div>

                                    <!-- Time in Force -->
                                    <div class="form-group">
                                        <label for="stocks-tif">Time in Force</label>
                                        <select id="stocks-tif" required>
                                            <option value="day">Day</option>
                                            <option value="gtc">Good Till Canceled (GTC)</option>
                                            <option value="ioc">Immediate or Cancel (IOC)</option>
                                            <option value="fok">Fill or Kill (FOK)</option>
                                        </select>
                                    </div>

                                    <!-- Order Value Calculator -->
                                    <div class="order-summary">
                                        <div class="summary-row">
                                            <span>Estimated Cost:</span>
                                            <span id="stocks-estimated-cost">$0.00</span>
                                        </div>
                                        <div class="summary-row">
                                            <span>Commission:</span>
                                            <span id="stocks-commission">$0.00</span>
                                        </div>
                                        <div class="summary-row total">
                                            <span>Total:</span>
                                            <span id="stocks-total-cost">$0.00</span>
                                        </div>
                                    </div>

                                    <!-- Submit Button -->
                                    <button type="submit" class="submit-btn" id="stocks-submit-btn">
                                        <i class="fas fa-paper-plane"></i>
                                        <span class="btn-text">Place Buy Order</span>
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Market Data & Watchlist Panel -->
                        <div class="market-panel">
                            <!-- Watchlist -->
                            <div class="watchlist-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-star"></i> Stock Watchlist</h3>
                                    <button class="action-btn small" id="add-stock-watchlist-btn">
                                        <i class="fas fa-plus"></i> Add
                                    </button>
                                </div>
                                <div id="stocks-watchlist-loading" class="loading">
                                    <i class="fas fa-spinner fa-spin"></i> Loading watchlist...
                                </div>
                                <div id="stocks-watchlist-content" style="display: none;">
                                    <div class="watchlist-items" id="stocks-watchlist-items">
                                        <!-- Watchlist items will be populated here -->
                                    </div>
                                </div>
                            </div>

                            <!-- Market Movers -->
                            <div class="market-movers-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-fire"></i> Market Movers</h3>
                                </div>
                                <div class="market-movers">
                                    <div class="mover-section">
                                        <h4>Top Gainers</h4>
                                        <div id="stocks-gainers" class="mover-list">
                                            <!-- Top gainers will be populated here -->
                                        </div>
                                    </div>
                                    <div class="mover-section">
                                        <h4>Top Losers</h4>
                                        <div id="stocks-losers" class="mover-list">
                                            <!-- Top losers will be populated here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Order History Section -->
                    <div class="orders-section">
                        <div class="section-header">
                            <h3><i class="fas fa-history"></i> Stock Orders</h3>
                            <div class="order-filters">
                                <select id="stocks-status-filter" class="filter-select">
                                    <option value="">All Orders</option>
                                    <option value="open">Open</option>
                                    <option value="filled">Filled</option>
                                    <option value="cancelled">Cancelled</option>
                                </select>
                                <input type="date" id="stocks-date-filter" class="date-filter">
                            </div>
                        </div>

                        <div id="stocks-orders-loading" class="loading">
                            <i class="fas fa-spinner fa-spin"></i> Loading orders...
                        </div>

                        <div id="stocks-orders-content" style="display: none;">
                            <div class="table-container">
                                <table id="stocks-orders-table" class="orders-table">
                                    <thead>
                                        <tr>
                                            <th>Symbol</th>
                                            <th>Side</th>
                                            <th>Type</th>
                                            <th>Quantity</th>
                                            <th>Price</th>
                                            <th>Status</th>
                                            <th>Time</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="stocks-orders-table-body">
                                        <!-- Orders will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Futures Trading Section -->
                <div id="futures" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-bar"></i> Futures Trading</h2>
                        <div class="section-actions">
                            <button class="action-btn secondary" id="refresh-futures-btn">
                                <i class="fas fa-sync"></i> Refresh Data
                            </button>
                        </div>
                    </div>

                    <div class="trading-layout">
                        <!-- Trading Form Panel -->
                        <div class="trading-panel">
                            <div class="trading-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-exchange-alt"></i> Place Order</h3>
                                    <div class="buying-power">
                                        <span>Buying Power: <span id="futures-buying-power">$0.00</span></span>
                                    </div>
                                </div>
                                
                                <!-- Buy/Sell Toggle -->
                                <div class="order-side-toggle">
                                    <button class="side-btn buy active" data-side="buy">
                                        <i class="fas fa-arrow-up"></i> Buy
                                    </button>
                                    <button class="side-btn sell" data-side="sell">
                                        <i class="fas fa-arrow-down"></i> Sell
                                    </button>
                                </div>

                                <form id="futures-order-form" class="trading-form">
                                    <!-- Symbol Input -->
                                    <div class="form-group">
                                        <label for="futures-symbol">Contract Symbol</label>
                                        <div class="symbol-input-container">
                                            <input type="text" id="futures-symbol" placeholder="e.g., ES, NQ, GC" autocomplete="off" required>
                                            <div id="futures-symbol-dropdown" class="symbol-dropdown"></div>
                                        </div>
                                        <div class="symbol-info" id="futures-symbol-info" style="display: none;">
                                            <div class="price-info">
                                                <span class="current-price">$0.00</span>
                                                <span class="price-change">+$0.00 (+0.00%)</span>
                                            </div>
                                            <div class="bid-ask">
                                                <span>Bid: <span class="bid-price">$0.00</span></span>
                                                <span>Ask: <span class="ask-price">$0.00</span></span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Order Type -->
                                    <div class="form-group">
                                        <label for="futures-order-type">Order Type</label>
                                        <select id="futures-order-type" required>
                                            <option value="market">Market Order</option>
                                            <option value="limit">Limit Order</option>
                                            <option value="stop">Stop Order</option>
                                        </select>
                                    </div>

                                    <!-- Quantity -->
                                    <div class="form-group">
                                        <label for="futures-quantity">Contracts</label>
                                        <input type="number" id="futures-quantity" min="1" step="1" placeholder="1" required>
                                        <div class="quantity-buttons">
                                            <button type="button" class="qty-btn" data-qty="1">1</button>
                                            <button type="button" class="qty-btn" data-qty="5">5</button>
                                            <button type="button" class="qty-btn" data-qty="10">10</button>
                                        </div>
                                    </div>

                                    <!-- Price (for limit orders) -->
                                    <div class="form-group" id="futures-price-group" style="display: none;">
                                        <label for="futures-price">Limit Price</label>
                                        <input type="number" id="futures-price" step="0.25" placeholder="0.00">
                                    </div>

                                    <!-- Time in Force -->
                                    <div class="form-group">
                                        <label for="futures-tif">Time in Force</label>
                                        <select id="futures-tif" required>
                                            <option value="day">Day</option>
                                            <option value="gtc">Good Till Canceled (GTC)</option>
                                            <option value="ioc">Immediate or Cancel (IOC)</option>
                                            <option value="fok">Fill or Kill (FOK)</option>
                                        </select>
                                    </div>

                                    <!-- Order Value Calculator -->
                                    <div class="order-summary">
                                        <div class="summary-row">
                                            <span>Estimated Cost:</span>
                                            <span id="futures-estimated-cost">$0.00</span>
                                        </div>
                                        <div class="summary-row">
                                            <span>Commission:</span>
                                            <span id="futures-commission">$4.50</span>
                                        </div>
                                        <div class="summary-row">
                                            <span>Initial Margin:</span>
                                            <span id="futures-margin">$0.00</span>
                                        </div>
                                        <div class="summary-row total">
                                            <span>Total Required:</span>
                                            <span id="futures-total-cost">$0.00</span>
                                        </div>
                                    </div>

                                    <!-- Submit Button -->
                                    <button type="submit" class="submit-btn" id="futures-submit-btn">
                                        <i class="fas fa-paper-plane"></i>
                                        <span class="btn-text">Place Buy Order</span>
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Market Data & Watchlist Panel -->
                        <div class="market-panel">
                            <!-- Watchlist -->
                            <div class="watchlist-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-star"></i> Futures Watchlist</h3>
                                    <button class="action-btn small" id="add-futures-watchlist-btn">
                                        <i class="fas fa-plus"></i> Add
                                    </button>
                                </div>
                                <div id="futures-watchlist-loading" class="loading">
                                    <i class="fas fa-spinner fa-spin"></i> Loading watchlist...
                                </div>
                                <div id="futures-watchlist-content" style="display: none;">
                                    <div class="watchlist-items" id="futures-watchlist-items">
                                        <!-- Watchlist items will be populated here -->
                                    </div>
                                </div>
                            </div>

                            <!-- Popular Futures -->
                            <div class="popular-contracts-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-fire"></i> Popular Futures</h3>
                                </div>
                                <div class="popular-contracts">
                                    <div class="contract-item" data-symbol="ES">
                                        <div class="contract-info">
                                            <span class="symbol">ES</span>
                                            <span class="name">E-mini S&P 500</span>
                                        </div>
                                        <div class="contract-price">
                                            <span class="price">$0.00</span>
                                            <span class="change">+0.00%</span>
                                        </div>
                                    </div>
                                    <div class="contract-item" data-symbol="NQ">
                                        <div class="contract-info">
                                            <span class="symbol">NQ</span>
                                            <span class="name">E-mini Nasdaq</span>
                                        </div>
                                        <div class="contract-price">
                                            <span class="price">$0.00</span>
                                            <span class="change">+0.00%</span>
                                        </div>
                                    </div>
                                    <div class="contract-item" data-symbol="GC">
                                        <div class="contract-info">
                                            <span class="symbol">GC</span>
                                            <span class="name">Gold Future</span>
                                        </div>
                                        <div class="contract-price">
                                            <span class="price">$0.00</span>
                                            <span class="change">+0.00%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Order History Section -->
                    <div class="orders-section">
                        <div class="section-header">
                            <h3><i class="fas fa-history"></i> Futures Orders</h3>
                            <div class="order-filters">
                                <select id="futures-status-filter" class="filter-select">
                                    <option value="">All Orders</option>
                                    <option value="open">Open</option>
                                    <option value="filled">Filled</option>
                                    <option value="cancelled">Cancelled</option>
                                </select>
                                <input type="date" id="futures-date-filter" class="date-filter">
                            </div>
                        </div>

                        <div id="futures-orders-loading" class="loading">
                            <i class="fas fa-spinner fa-spin"></i> Loading orders...
                        </div>

                        <div id="futures-orders-content" style="display: none;">
                            <div class="table-container">
                                <table id="futures-orders-table" class="orders-table">
                                    <thead>
                                        <tr>
                                            <th>Contract</th>
                                            <th>Side</th>
                                            <th>Type</th>
                                            <th>Quantity</th>
                                            <th>Price</th>
                                            <th>Status</th>
                                            <th>Time</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="futures-orders-table-body">
                                        <!-- Orders will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Crypto Trading Section -->
                <div id="crypto" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-coins"></i> Crypto Trading</h2>
                        <div class="section-actions">
                            <button class="action-btn secondary" id="refresh-crypto-btn">
                                <i class="fas fa-sync"></i> Refresh Data
                            </button>
                        </div>
                    </div>

                    <div class="trading-layout">
                        <!-- Trading Form Panel -->
                        <div class="trading-panel">
                            <div class="trading-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-exchange-alt"></i> Place Order</h3>
                                    <div class="buying-power">
                                        <span>Buying Power: <span id="crypto-buying-power">$0.00</span></span>
                                    </div>
                                </div>
                                
                                <!-- Buy/Sell Toggle -->
                                <div class="order-side-toggle">
                                    <button class="side-btn buy active" data-side="buy">
                                        <i class="fas fa-arrow-up"></i> Buy
                                    </button>
                                    <button class="side-btn sell" data-side="sell">
                                        <i class="fas fa-arrow-down"></i> Sell
                                    </button>
                                </div>

                                <form id="crypto-order-form" class="trading-form">
                                    <!-- Symbol Input -->
                                    <div class="form-group">
                                        <label for="crypto-symbol">Crypto Symbol</label>
                                        <div class="symbol-input-container">
                                            <input type="text" id="crypto-symbol" placeholder="e.g., BTC-USD, ETH-USD" autocomplete="off" required>
                                            <div id="crypto-symbol-dropdown" class="symbol-dropdown"></div>
                                        </div>
                                        <div class="symbol-info" id="crypto-symbol-info" style="display: none;">
                                            <div class="price-info">
                                                <span class="current-price">$0.00</span>
                                                <span class="price-change">+$0.00 (+0.00%)</span>
                                            </div>
                                            <div class="bid-ask">
                                                <span>Bid: <span class="bid-price">$0.00</span></span>
                                                <span>Ask: <span class="ask-price">$0.00</span></span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Order Type -->
                                    <div class="form-group">
                                        <label for="crypto-order-type">Order Type</label>
                                        <select id="crypto-order-type" required>
                                            <option value="market">Market Order</option>
                                            <option value="limit">Limit Order</option>
                                            <option value="stop">Stop Order</option>
                                        </select>
                                    </div>

                                    <!-- Quantity -->
                                    <div class="form-group">
                                        <label for="crypto-quantity">Quantity</label>
                                        <input type="number" id="crypto-quantity" min="0.0001" step="0.0001" placeholder="0.1000" required>
                                        <div class="quantity-buttons">
                                            <button type="button" class="qty-btn" data-qty="0.01">0.01</button>
                                            <button type="button" class="qty-btn" data-qty="0.1">0.1</button>
                                            <button type="button" class="qty-btn" data-qty="1">1</button>
                                        </div>
                                    </div>

                                    <!-- Price (for limit orders) -->
                                    <div class="form-group" id="crypto-price-group" style="display: none;">
                                        <label for="crypto-price">Limit Price</label>
                                        <input type="number" id="crypto-price" step="0.01" placeholder="0.00">
                                    </div>

                                    <!-- Time in Force -->
                                    <div class="form-group">
                                        <label for="crypto-tif">Time in Force</label>
                                        <select id="crypto-tif" required>
                                            <option value="day">Day</option>
                                            <option value="gtc">Good Till Canceled (GTC)</option>
                                            <option value="ioc">Immediate or Cancel (IOC)</option>
                                            <option value="fok">Fill or Kill (FOK)</option>
                                        </select>
                                    </div>

                                    <!-- Order Value Calculator -->
                                    <div class="order-summary">
                                        <div class="summary-row">
                                            <span>Estimated Cost:</span>
                                            <span id="crypto-estimated-cost">$0.00</span>
                                        </div>
                                        <div class="summary-row">
                                            <span>Network Fee:</span>
                                            <span id="crypto-network-fee">$2.50</span>
                                        </div>
                                        <div class="summary-row total">
                                            <span>Total:</span>
                                            <span id="crypto-total-cost">$0.00</span>
                                        </div>
                                    </div>

                                    <!-- Submit Button -->
                                    <button type="submit" class="submit-btn" id="crypto-submit-btn">
                                        <i class="fas fa-paper-plane"></i>
                                        <span class="btn-text">Place Buy Order</span>
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Market Data & Watchlist Panel -->
                        <div class="market-panel">
                            <!-- Watchlist -->
                            <div class="watchlist-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-star"></i> Crypto Watchlist</h3>
                                    <button class="action-btn small" id="add-crypto-watchlist-btn">
                                        <i class="fas fa-plus"></i> Add
                                    </button>
                                </div>
                                <div id="crypto-watchlist-loading" class="loading">
                                    <i class="fas fa-spinner fa-spin"></i> Loading watchlist...
                                </div>
                                <div id="crypto-watchlist-content" style="display: none;">
                                    <div class="watchlist-items" id="crypto-watchlist-items">
                                        <!-- Watchlist items will be populated here -->
                                    </div>
                                </div>
                            </div>

                            <!-- Top Crypto -->
                            <div class="top-crypto-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-crown"></i> Top Cryptocurrencies</h3>
                                </div>
                                <div class="crypto-list">
                                    <div class="crypto-item" data-symbol="BTC-USD">
                                        <div class="crypto-info">
                                            <span class="symbol">BTC</span>
                                            <span class="name">Bitcoin</span>
                                        </div>
                                        <div class="crypto-price">
                                            <span class="price">$0.00</span>
                                            <span class="change">+0.00%</span>
                                        </div>
                                    </div>
                                    <div class="crypto-item" data-symbol="ETH-USD">
                                        <div class="crypto-info">
                                            <span class="symbol">ETH</span>
                                            <span class="name">Ethereum</span>
                                        </div>
                                        <div class="crypto-price">
                                            <span class="price">$0.00</span>
                                            <span class="change">+0.00%</span>
                                        </div>
                                    </div>
                                    <div class="crypto-item" data-symbol="ADA-USD">
                                        <div class="crypto-info">
                                            <span class="symbol">ADA</span>
                                            <span class="name">Cardano</span>
                                        </div>
                                        <div class="crypto-price">
                                            <span class="price">$0.00</span>
                                            <span class="change">+0.00%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Order History Section -->
                    <div class="orders-section">
                        <div class="section-header">
                            <h3><i class="fas fa-history"></i> Crypto Orders</h3>
                            <div class="order-filters">
                                <select id="crypto-status-filter" class="filter-select">
                                    <option value="">All Orders</option>
                                    <option value="open">Open</option>
                                    <option value="filled">Filled</option>
                                    <option value="cancelled">Cancelled</option>
                                </select>
                                <input type="date" id="crypto-date-filter" class="date-filter">
                            </div>
                        </div>

                        <div id="crypto-orders-loading" class="loading">
                            <i class="fas fa-spinner fa-spin"></i> Loading orders...
                        </div>

                        <div id="crypto-orders-content" style="display: none;">
                            <div class="table-container">
                                <table id="crypto-orders-table" class="orders-table">
                                    <thead>
                                        <tr>
                                            <th>Symbol</th>
                                            <th>Side</th>
                                            <th>Type</th>
                                            <th>Quantity</th>
                                            <th>Price</th>
                                            <th>Status</th>
                                            <th>Time</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="crypto-orders-table-body">
                                        <!-- Orders will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="signals" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-signal"></i> Trading Signals</h2>
                    </div>
                    <p>Real-time trading signals will be displayed here...</p>
                </div>

                <!-- Settings Section -->
                <div id="settings" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-sliders-h"></i> Settings & Configuration</h2>
                    </div>
                    <div id="settings-content">
                        <!-- Module settings will be loaded here dynamically -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/static/js/dashboard.js"></script>
    <script src="/static/js/trading-module.js"></script>
</body>
</html>